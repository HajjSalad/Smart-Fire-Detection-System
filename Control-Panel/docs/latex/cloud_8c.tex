\doxysection{main/cloud.c File Reference}
\hypertarget{cloud_8c}{}\label{cloud_8c}\index{main/cloud.c@{main/cloud.c}}


MQTT over TLS communication logic.  


{\ttfamily \#include "{}cloud.\+h"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$inttypes.\+h$>$}\newline
{\ttfamily \#include $<$sys/param.\+h$>$}\newline
{\ttfamily \#include "{}esp\+\_\+tls.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+log.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+mac.\+h"{}}\newline
{\ttfamily \#include "{}sdkconfig.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+event.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+netif.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+system.\+h"{}}\newline
{\ttfamily \#include "{}mqtt\+\_\+client.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+ota\+\_\+ops.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+partition.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
const uint8\+\_\+t device\+\_\+cert\+\_\+pem\+\_\+start\mbox{[}$\,$\mbox{]} \mbox{\hyperlink{cloud_8c_ad338b95b262bd4cafa173905ebb099ae}{asm}} ("{}\+\_\+binary\+\_\+device\+\_\+cert\+\_\+pem\+\_\+start"{})
\begin{DoxyCompactList}\small\item\em Externally linked embedded certificate, key, and root CA for TLS. \end{DoxyCompactList}\item 
const uint8\+\_\+t private\+\_\+key\+\_\+pem\+\_\+start\mbox{[}$\,$\mbox{]} \mbox{\hyperlink{cloud_8c_a0deab36b35c5e4fecf0695e957708dc2}{asm}} ("{}\+\_\+binary\+\_\+private\+\_\+key\+\_\+pem\+\_\+start"{})
\item 
const uint8\+\_\+t root\+\_\+ca\+\_\+pem\+\_\+start\mbox{[}$\,$\mbox{]} \mbox{\hyperlink{cloud_8c_ae80dff6ff77b258e3b329f353b7884a1}{asm}} ("{}\+\_\+binary\+\_\+root\+\_\+ca\+\_\+pem\+\_\+start"{})
\item 
void \mbox{\hyperlink{cloud_8c_a23111a2f4585204ffeeaaec70247be3c}{mqtt\+\_\+app\+\_\+start}} (void)
\begin{DoxyCompactList}\small\item\em Initializes and starts the MQTT client with TLS credentials. \end{DoxyCompactList}\item 
esp\+\_\+mqtt\+\_\+client\+\_\+handle\+\_\+t \mbox{\hyperlink{cloud_8c_adb6a59b34714a748610faa1c245dd417}{get\+\_\+mqtt\+\_\+client}} (void)
\begin{DoxyCompactList}\small\item\em Returns the MQTT client handle for use elsewhere in the application. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+mqtt\+\_\+client\+\_\+handle\+\_\+t \mbox{\hyperlink{cloud_8c_a079567aa85481c2c828fc6b36074db10}{client}} = NULL
\begin{DoxyCompactList}\small\item\em Global MQTT client handle. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
MQTT over TLS communication logic. 

Implements secure MQTT client initialization, event handling, and cloud communication for ESP32 IoT devices. 

\label{doc-func-members}
\Hypertarget{cloud_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{cloud_8c_ad338b95b262bd4cafa173905ebb099ae}\index{cloud.c@{cloud.c}!asm@{asm}}
\index{asm@{asm}!cloud.c@{cloud.c}}
\doxysubsubsection{\texorpdfstring{asm()}{asm()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \label{cloud_8c_ad338b95b262bd4cafa173905ebb099ae} 
const uint8\+\_\+t device\+\_\+cert\+\_\+pem\+\_\+start\mbox{[}$\,$\mbox{]} asm (\begin{DoxyParamCaption}\item[{"{}\+\_\+binary\+\_\+device\+\_\+cert\+\_\+pem\+\_\+start"{}}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Externally linked embedded certificate, key, and root CA for TLS. 

\Hypertarget{cloud_8c_a0deab36b35c5e4fecf0695e957708dc2}\index{cloud.c@{cloud.c}!asm@{asm}}
\index{asm@{asm}!cloud.c@{cloud.c}}
\doxysubsubsection{\texorpdfstring{asm()}{asm()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \label{cloud_8c_a0deab36b35c5e4fecf0695e957708dc2} 
const uint8\+\_\+t private\+\_\+key\+\_\+pem\+\_\+start\mbox{[}$\,$\mbox{]} asm (\begin{DoxyParamCaption}\item[{"{}\+\_\+binary\+\_\+private\+\_\+key\+\_\+pem\+\_\+start"{}}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}

\Hypertarget{cloud_8c_ae80dff6ff77b258e3b329f353b7884a1}\index{cloud.c@{cloud.c}!asm@{asm}}
\index{asm@{asm}!cloud.c@{cloud.c}}
\doxysubsubsection{\texorpdfstring{asm()}{asm()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \label{cloud_8c_ae80dff6ff77b258e3b329f353b7884a1} 
const uint8\+\_\+t root\+\_\+ca\+\_\+pem\+\_\+start\mbox{[}$\,$\mbox{]} asm (\begin{DoxyParamCaption}\item[{"{}\+\_\+binary\+\_\+root\+\_\+ca\+\_\+pem\+\_\+start"{}}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}

\Hypertarget{cloud_8c_adb6a59b34714a748610faa1c245dd417}\index{cloud.c@{cloud.c}!get\_mqtt\_client@{get\_mqtt\_client}}
\index{get\_mqtt\_client@{get\_mqtt\_client}!cloud.c@{cloud.c}}
\doxysubsubsection{\texorpdfstring{get\_mqtt\_client()}{get\_mqtt\_client()}}
{\footnotesize\ttfamily \label{cloud_8c_adb6a59b34714a748610faa1c245dd417} 
esp\+\_\+mqtt\+\_\+client\+\_\+handle\+\_\+t get\+\_\+mqtt\+\_\+client (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Returns the MQTT client handle for use elsewhere in the application. 

Retrieves the current MQTT client handle.

\begin{DoxyReturn}{Returns}
esp\+\_\+mqtt\+\_\+client\+\_\+handle\+\_\+t The MQTT client instance. 
\end{DoxyReturn}
\Hypertarget{cloud_8c_a23111a2f4585204ffeeaaec70247be3c}\index{cloud.c@{cloud.c}!mqtt\_app\_start@{mqtt\_app\_start}}
\index{mqtt\_app\_start@{mqtt\_app\_start}!cloud.c@{cloud.c}}
\doxysubsubsection{\texorpdfstring{mqtt\_app\_start()}{mqtt\_app\_start()}}
{\footnotesize\ttfamily \label{cloud_8c_a23111a2f4585204ffeeaaec70247be3c} 
void mqtt\+\_\+app\+\_\+start (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Initializes and starts the MQTT client with TLS credentials. 

Initializes and starts the MQTT client.

Sets up the MQTT broker address, certificates, private key, and event handler. Starts the client connection process. 

\label{doc-var-members}
\Hypertarget{cloud_8c_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{cloud_8c_a079567aa85481c2c828fc6b36074db10}\index{cloud.c@{cloud.c}!client@{client}}
\index{client@{client}!cloud.c@{cloud.c}}
\doxysubsubsection{\texorpdfstring{client}{client}}
{\footnotesize\ttfamily \label{cloud_8c_a079567aa85481c2c828fc6b36074db10} 
esp\+\_\+mqtt\+\_\+client\+\_\+handle\+\_\+t client = NULL}



Global MQTT client handle. 

