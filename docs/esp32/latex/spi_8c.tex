\doxysection{main/spi.c File Reference}
\hypertarget{spi_8c}{}\label{spi_8c}\index{main/spi.c@{main/spi.c}}


SPI Master initialization for ESP32 using ESP-\/\+IDF.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include "{}freertos/\+Free\+RTOS.\+h"{}}\newline
{\ttfamily \#include "{}freertos/task.\+h"{}}\newline
{\ttfamily \#include "{}freertos/semphr.\+h"{}}\newline
{\ttfamily \#include "{}driver/spi\+\_\+master.\+h"{}}\newline
{\ttfamily \#include "{}driver/gpio.\+h"{}}\newline
{\ttfamily \#include "{}sdkconfig.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+log.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{spi_8c_a5d3f11f2fdf8a7e27b975291e0c2c8cc}{MOSI}}~23
\begin{DoxyCompactList}\small\item\em GPIO pin used for Master Out Slave In. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{spi_8c_a7334c540878c8c4d801fd75ed9fd8063}{MISO}}~19
\begin{DoxyCompactList}\small\item\em GPIO pin used for Master In Slave Out. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{spi_8c_a2dd443a4430713d325ab86895a4a45eb}{SCK}}~18
\begin{DoxyCompactList}\small\item\em GPIO pin used for SPI Clock. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{spi_8c_a88f7782e210e61586baf33b93240d905}{SS}}~5
\begin{DoxyCompactList}\small\item\em GPIO pin used for Slave Select. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{spi_8c_a5db0aceecaf7db5fbe2984e88fef3734}{spi\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em Initialize the SPI bus and configure the SPI device. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
spi\+\_\+device\+\_\+handle\+\_\+t \mbox{\hyperlink{spi_8c_ae280e9f4670c46b616127091ed042b7c}{handle}}
\begin{DoxyCompactList}\small\item\em Handle to the SPI device. \end{DoxyCompactList}\item 
Task\+Handle\+\_\+t \mbox{\hyperlink{spi_8c_aea550bf013f137f3f7657fc77b1535f6}{spi\+\_\+task\+\_\+handle}} = NULL
\begin{DoxyCompactList}\small\item\em Handle to the SPI task. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
SPI Master initialization for ESP32 using ESP-\/\+IDF. 

This file contains the implementation of initializing the SPI bus and setting up the SPI device configuration for communication. 

\label{doc-define-members}
\Hypertarget{spi_8c_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{spi_8c_a7334c540878c8c4d801fd75ed9fd8063}\index{spi.c@{spi.c}!MISO@{MISO}}
\index{MISO@{MISO}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{MISO}{MISO}}
{\footnotesize\ttfamily \label{spi_8c_a7334c540878c8c4d801fd75ed9fd8063} 
\#define MISO~19}



GPIO pin used for Master In Slave Out. 

\Hypertarget{spi_8c_a5d3f11f2fdf8a7e27b975291e0c2c8cc}\index{spi.c@{spi.c}!MOSI@{MOSI}}
\index{MOSI@{MOSI}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{MOSI}{MOSI}}
{\footnotesize\ttfamily \label{spi_8c_a5d3f11f2fdf8a7e27b975291e0c2c8cc} 
\#define MOSI~23}



GPIO pin used for Master Out Slave In. 

\Hypertarget{spi_8c_a2dd443a4430713d325ab86895a4a45eb}\index{spi.c@{spi.c}!SCK@{SCK}}
\index{SCK@{SCK}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{SCK}{SCK}}
{\footnotesize\ttfamily \label{spi_8c_a2dd443a4430713d325ab86895a4a45eb} 
\#define SCK~18}



GPIO pin used for SPI Clock. 

\Hypertarget{spi_8c_a88f7782e210e61586baf33b93240d905}\index{spi.c@{spi.c}!SS@{SS}}
\index{SS@{SS}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{SS}{SS}}
{\footnotesize\ttfamily \label{spi_8c_a88f7782e210e61586baf33b93240d905} 
\#define SS~5}



GPIO pin used for Slave Select. 



\label{doc-func-members}
\Hypertarget{spi_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{spi_8c_a5db0aceecaf7db5fbe2984e88fef3734}\index{spi.c@{spi.c}!spi\_init@{spi\_init}}
\index{spi\_init@{spi\_init}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{spi\_init()}{spi\_init()}}
{\footnotesize\ttfamily \label{spi_8c_a5db0aceecaf7db5fbe2984e88fef3734} 
void spi\+\_\+init (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Initialize the SPI bus and configure the SPI device. 

Initialize the SPI bus and attach the SPI device.

This function sets up thew SPI bus with specified parameters and add the SPI device to the bus using the ESP-\/\+IDF SPI Master driver.


\begin{DoxyItemize}
\item Clock speed\+: 100 k\+Hz
\item Mode\+: SPI Mode 0 (CPOL = 0, CPHA = 0)
\item SS pin\+: GPIO 5
\item Max transfer size\+: 64 bytes 
\end{DoxyItemize}

\label{doc-var-members}
\Hypertarget{spi_8c_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{spi_8c_ae280e9f4670c46b616127091ed042b7c}\index{spi.c@{spi.c}!handle@{handle}}
\index{handle@{handle}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{handle}{handle}}
{\footnotesize\ttfamily \label{spi_8c_ae280e9f4670c46b616127091ed042b7c} 
spi\+\_\+device\+\_\+handle\+\_\+t handle}



Handle to the SPI device. 

Handle to the SPI device, initialized by \doxylink{spi_8h_a5db0aceecaf7db5fbe2984e88fef3734}{spi\+\_\+init()} \Hypertarget{spi_8c_aea550bf013f137f3f7657fc77b1535f6}\index{spi.c@{spi.c}!spi\_task\_handle@{spi\_task\_handle}}
\index{spi\_task\_handle@{spi\_task\_handle}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{spi\_task\_handle}{spi\_task\_handle}}
{\footnotesize\ttfamily \label{spi_8c_aea550bf013f137f3f7657fc77b1535f6} 
Task\+Handle\+\_\+t spi\+\_\+task\+\_\+handle = NULL}



Handle to the SPI task. 

Handle to the SPI task, initialized in x\+Task\+Create()

Handle of the task to notify on interrupt 